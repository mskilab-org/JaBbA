language: r
sudo: false
cache: packages
r: 3.6.1
warnings_are_errors: false
r_check_args: "--no-build-vignettes --no-manual --as-cran --no-examples"
bioc_packages:
- GenomeInfoDb
- S4Vectors
- GenomicRanges
- VariantAnnotation
- DNAcopy
- rtracklayer
- Rsamtools
before_install:
- curl -OL $URL
- mv jabba.tar.gz?dl=0 jabba.tar.gz
- mkdir $HOME/my.cplex && tar -xvzf jabba.tar.gz --directory $HOME/my.cplex/
- wget https://github.com/samtools/samtools/releases/download/1.6/samtools-1.6.tar.bz2
- tar -vxjf samtools-1.6.tar.bz2
- cd samtools-1.6
- make
- cd ..
- export PATH=samtools-1.6/:$PATH
- curl -OL https://raw.githubusercontent.com/craigcitro/r-travis/master/scripts/travis-tool.sh
- chmod 755 ./travis-tool.sh
- export GITHUB_PAT=""
install:
- ./travis-tool.sh install_github mskilab/bamUtils
- ./travis-tool.sh install_github mskilab/gUtils
- ./travis-tool.sh install_github mskilab/gTrack
- ./travis-tool.sh install_github mskilab/gGnome
script:
- "Rscript -e 'devtools::install_bioc(\"copynumber\")'"
- "Rscript -e 'setRepositories(graphics = FALSE, ind = 1:6);install.packages(\"sequenza\")'"
- "Rscript -e 'devtools::install()'"
- "./travis-tool.sh run_tests"
after_failure:
- "./travis-tool.sh dump_logs"
after_success:
- travis_wait Rscript -e 'covr::codecov()'
env:
  global:
  - secure: "x6FcFOHRoXUUb4gqa73d9z9SKMqtAeevofKMfa5ZhgwGC4lT40LsNiaR/e4WLvyHRVxqm0fvVPkkSzyZyriU8ARIYV84dk67bvgRZwJLO/1fBswOTQh1NeSB0gcS6GlxMvkDg18Irui8f8/0IbCyqxHzslC2hRKQYArcv0e9ARMraEipb5RoDXRyIql8YuRCfy2IbwyEIoVCCoUowECy3og387imGt/KORg9g9+jYyoTUu77+EkElQ1DyU0NXIttlYWlucqrkovNNRiMH4pzc37OXFhpDb6SUZceh9N2fWFpi1YhWbZs52OVxJt2lY2O2+o3S2Imhj1A/8/ZKTvWNrxqs2Xtty4vA2p5z9bmXX1sthNeGiITg/j3V8LMUUI7dM1HLGa+cKe3uA2qyXveJxy8UfTcMjWqJqQL9Iyxguq5NPyaKcPa9pT1RZq0lSw57GJY6MkkdPweVlaAWy9mtVSsI+JO1Td+fmUUDzXwee2BvmuLOuiKg1jvlJbp5gLAv+PG5BPp1o4rppyzBZIuT5bKVZ4Ks70opvP+Pte82fYT6lKeiOwWYBUuehtT1LaIoG3v9L0mBtAQA3H3PTOEl7xa7rcdnLif2Pk//m7JvzHWfaawzSyUvy6LB3tMMDqnD/eiWEWgaJcGQMSxl8XM7zw67rueRG5QP3tSWCGTAZ4="
  - CPLEX_DIR=$HOME/my.cplex/
  - CPLEX_INCLUDE_PATH=$HOME/my.cplex/include
  - CPLEX_LIB_PATH=$HOME/my.cplex/lib
  - R_CHECK_ARGS="--no-build-vignettes --no-manual --as-cran --no-examples"
  - _R_CHECK_TESTS_NLINES_=0
  - R_REMOTES_NO_ERRORS_FROM_WARNINGS=TRUE
  - _R_CHECK_FORCE_SUGGESTS_=false
  - secure: "gkGIfSJ211gtrDgTlaqiBsFQ9oIGuald0V+HR/2hO4PuZGIlD6pjY11opWZYzqb/XL2tUS7NUK6/QdfIve7RfiGD/TTmJ+n0YDVVKjH1WeNcsMVlepurHFZTRZnXqyi89dxSNb38ZgOExDQrsKoGzDWO9H+HyVBW6qzz/kY2WvBw3FCFoV72PriOVAdYmKqKfmv/XAOBB8Efw1GTjjT67hBY24R+YYI8gqMr28FffcFVW0VEPRLq8Qi+JUaI9SuPqgTKQBZWWItJZtZvuZRXICFAIyENHJa150weZTEjFDnItbtEiBiNMx/GYm94TlV0p8uy0+dXQtehV/U5hNCEPwW25fe225DUepTW51jHL0+V0MWjbmX6vT8lIVa/68dKzC1PGsRzn8cW2TxkGg/vXhL/f+wNTJ7nI4t9sp9WWVQOjNC7aUTP39xsFxpFj1szc/4/u/8rlsXxt4iSRJ2T5HRhPv3xrhegUV46P6Iv4TAqO9Zvc5LKOYb/H4EKJZBDQ4sI4y/Fn+LVSl3rpG74AZdx76bhuz3f07NAdPIdREjh02PnCZ/7837QFU7FmVeqPjSm+1ZVE+mtpoXz3qait/REJXRqq9HHLrEOhY/5OqRXGDYzLlo/lWmIBYtFBK2XW0FXLbWx/uhZ59jgxhsq01KpXA5o/GGsPYnEp2G/qJg="
     




