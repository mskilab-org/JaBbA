language: r
sudo: false
cache: packages
r: 3.6.1
warnings_are_errors: false
r_check_args: "--no-build-vignettes --no-manual --as-cran --no-examples"
bioc_packages:
- GenomeInfoDb
- S4Vectors
- GenomicRanges
- VariantAnnotation
- DNAcopy
- rtracklayer
- Rsamtools
before_install:
- curl -OL $URL
- mv jabba.tar.gz.gpg?dl=0 jabba.tar.gz.gpg
- echo $JAB | sudo gpg --passphrase-fd 0 jabba.tar.gz.gpg
- mkdir $HOME/my.cplex && tar -xvzf jabba.tar.gz --directory $HOME/my.cplex/
- wget https://github.com/samtools/samtools/releases/download/1.6/samtools-1.6.tar.bz2
- tar -vxjf samtools-1.6.tar.bz2
- cd samtools-1.6
- make
- cd ..
- export PATH=samtools-1.6/:$PATH
- curl -OL https://raw.githubusercontent.com/craigcitro/r-travis/master/scripts/travis-tool.sh
- chmod 755 ./travis-tool.sh
install:
- ./travis-tool.sh install_github mskilab/bamUtils
- ./travis-tool.sh install_github mskilab/gUtils
- ./travis-tool.sh install_github mskilab/gTrack
- ./travis-tool.sh install_github mskilab/gGnome
script:
- "Rscript -e 'devtools::install_bioc(\"copynumber\")'"
- "Rscript -e 'setRepositories(graphics = FALSE, ind = 1:6);install.packages(\"sequenza\")'"
- "Rscript -e 'devtools::install()'"
- "./travis-tool.sh run_tests"
after_failure:
- "./travis-tool.sh dump_logs"
after_success:
- travis_wait Rscript -e 'covr::codecov()'
env:
  global:
  - secure: "NyI2yt+QvGO9iv8glADeKP/vSb8xdR8byTs+bqyBEJhzEre8m3heLo6k2HBzRIs46LaPGb1qfRzV1yYN3WZFRY3irfaOesTbaLQ0lXltkLUPR3g0TLDRtcu0sDNVbd/vBMf3HkVrVZaEQEXm9dYF+jIEi4E6dvxc/Xr9BVb11HHqpQVDjO4rrlmV7DigiPBugMuaYBNcg9X9RQiB+Nw4NEKVJUzPDSxq4rbKC53g92M/YspiRAtAGi8D4d6vYgQp4sEaapl6DHbb6xckS/vqQQkzi3GQWpc3lFTwms7cP7jnEzedos14RExa2vfcTy9YOyuQLUe5DmffOTPie22xUS3462e+VHyq7+qNw7kX3qLW1faVp91W3hrJL3Dc1zy3IzQu9gIi7nmBW9G9qwNiGAX+zDVG85+dfCOAOh2EzlpD8ssTQsiGcykPB5POkSSMMQ7HTBUOiAvbv8x9V31zwFahQO0q74EQFQ+VVlf5tb2V9s4RIvrSmumrK7nToClUp3//tF1slVRD9BL3I8BeOjdyPifzIupoY6+6+UmZdt5HlZMUK2EASq52OicXqohWItq9ZvPOtRbMMVCvqcphxLwsVSGDr1Mnn5RsRTWLMY0i2CAqXfS+LGWQEg8sLRGjMKY5SpTs78PTRNnNYCn0N1O0WXqclT9ob/XilAijppY="
  - secure: "J6xSwV4p0iXnyxEcvG2GOw8FKyY4TsefV51UmMXyKsO3mryqd70ZBjwPu5RAjG1QKv6WXinRkYuLVgsKVJc+nWNVsimwzdlxSXgo7/17e3OgIkrAdRRdaxX0zisEcddISDfz0maLY9UYGcaGTC+XRfOXkFcLk69WieJwcRhp8f0ur3sGHAlRVFs563PuJVIVR82qrPYPDdDVwXWCVWto1Zn1np9Y8tzSU/RESzz7jtYECs0imKLA7F0jZ3U1ry8aWuj6ENl9i3CcNX3QjmmjM/GS/I953OKjNJZfz/4JPTLTm9lfwpxEv7mphbTVp9+ebD3O7Zodbk/TnWFkdV7zVVWSmfbDfw1v6rDpqhgCDMMINpgraq5rzNmEYe7M7jshNzhfiT9haQYNghpVX62GoX8kdBgX86fjzHhLrxNP9gpHT6xxazoh+pmb2iRl1+XJA4JQWU8x6CgXVEb2ByPj2FdHjZwK+1w6Ppzi2zK3wG9yK3AykKSJi+x7QUmCbUSOrelOufdXMMzgUgy2axgewi9p0jGH4RR9+p1/awrjbXKko8qGzC1R2nU9T9/oiD9bGmd7zbIcIgFlfXH5/Q5RaBzkmQtgNY3x9+WGc/NIbxaijyiTksV+l0WoO7VNpyuwcLMtBLOfm2bj69pSMK8c8d2/9GtsUC8saYt+JLIzUjI="
  - CPLEX_DIR=$HOME/my.cplex/
  - CPLEX_INCLUDE_PATH=$HOME/my.cplex/include
  - CPLEX_LIB_PATH=$HOME/my.cplex/lib
  - R_CHECK_ARGS="--no-build-vignettes --no-manual --as-cran --no-examples"
  - _R_CHECK_TESTS_NLINES_=0
  - R_REMOTES_NO_ERRORS_FROM_WARNINGS=TRUE
  - _R_CHECK_FORCE_SUGGESTS_=false


